!function(){var t=null,e=new URLSearchParams({apiKey:"834e5c777b504c48a337b01b262c10d5",category:"general",country:"ua",page:1,pageSize:10}),n={outputNumberResults:document.querySelector(".js-output"),outputCurrentResults:document.querySelector(".js-output-item"),outputTotalResults:document.querySelector(".js-output-total"),outputArticles:document.querySelector(".js-articles"),form:document.querySelector(".form"),inputSelect:document.querySelector(".form select"),queryButton:document.querySelector(".form button")};function u(){var t=window.innerHeight,u=window.scrollY;n.outputArticles.clientHeight-u<1.7*t&u>t&&(e.set("page",Number(e.get("page"))+1),r(e))}function r(u){fetch("https://newsapi.org/v2/top-headlines?".concat(u)).then((function(u){return u.json().then((function(u){return r=u,currentItems=r.articles.length+(e.get("page")-1)*e.get("pageSize"),l=currentItems,s=r.totalResults,n.outputCurrentResults.textContent=l,s&&(n.outputTotalResults.textContent=s),o=r.articles,c=o.reduce((function(t,e){return t+(u=(n=e).title,r=n.author,o=n.urlToImage,c=n.description,l=n.publishedAt,s=n.url,'\n  <li class="list__item">\n    <a class="list__link" href="'.concat(s,'" target="_blank" rel="noopener noreferrer">\n      ').concat(o?'<img src="'.concat(o,'" alt="').concat(c,'"></img>'):"","\n      <h2>").concat(u,"</h2>\n      <p><b>Author</b>: ").concat(r,"</p>\n      <p><b>Published Date</b>: ").concat(l,"</p>\n\n    </a>\n  </li>"));var n,u,r,o,c,l,s}),""),n.outputArticles.insertAdjacentHTML("beforeend",c),void(currentItems>=r.totalResults&&clearInterval(t));var r,o,c,l,s}))}))}n.form.addEventListener("submit",(function(o){o.preventDefault(),n.outputArticles.innerHTML="",e.set("category",n.inputSelect.value),e.set("page",1),n.outputNumberResults.classList.remove("is-hidden"),r(e),t=setInterval(u,300)}))}();
//# sourceMappingURL=news.89ca8ec2.js.map
