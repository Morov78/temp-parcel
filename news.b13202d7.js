let t=null;const e=new URLSearchParams({apiKey:"834e5c777b504c48a337b01b262c10d5",category:"general",country:"ua",page:1,pageSize:10}),u={outputNumberResults:document.querySelector(".js-output"),outputCurrentResults:document.querySelector(".js-output-item"),outputTotalResults:document.querySelector(".js-output-total"),outputArticles:document.querySelector(".js-articles"),form:document.querySelector(".form"),inputSelect:document.querySelector(".form select"),queryButton:document.querySelector(".form button")};function n(){const t=window.innerHeight,n=window.scrollY;u.outputArticles.clientHeight-n<1.7*t&n>t&&(e.set("page",Number(e.get("page"))+1),r(e))}function r(n){fetch(`https://newsapi.org/v2/top-headlines?${n}`).then((n=>n.json().then((n=>function(n){currentItems=n.articles.length+(e.get("page")-1)*e.get("pageSize"),r=currentItems,o=n.totalResults,u.outputCurrentResults.textContent=r,o&&(u.outputTotalResults.textContent=o),function(t){const e=t.reduce(((t,e)=>t+function({title:t,author:e,urlToImage:u,description:n,publishedAt:r,url:o}){return`\n  <li class="list__item">\n    <a class="list__link" href="${o}" target="_blank" rel="noopener noreferrer">\n      ${u?`<img src="${u}" alt="${n}"></img>`:""}\n      <h2>${t}</h2>\n      <p><b>Author</b>: ${e}</p>\n      <p><b>Published Date</b>: ${r}</p>\n\n    </a>\n  </li>`}(e)),"");u.outputArticles.insertAdjacentHTML("beforeend",e)}(n.articles);var r,o;currentItems>=n.totalResults&&clearInterval(t)}(n)))))}u.form.addEventListener("submit",(function(o){o.preventDefault(),u.outputArticles.innerHTML="",e.set("category",u.inputSelect.value),e.set("page",1),u.outputNumberResults.classList.remove("is-hidden"),r(e),t=setInterval(n,300)}));
//# sourceMappingURL=news.b13202d7.js.map
